<!DOCTYPE html>
<html lang="en-us">
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1">
    
    <title>Jihar Al Gifari  | Apache Kafka VS RabbitMQ</title>
    <meta name="viewport" content="width=device-width,minimum-scale=1">
    <meta name="generator" content="Hugo 0.62.1" />
    
    
      <META NAME="ROBOTS" CONTENT="NOINDEX, NOFOLLOW">
    

    
    
      <link href="/dist/css/app.d98f2eb6bcd1eaedb7edf166bd16af26.css" rel="stylesheet">
    

    

    
      
    

    
    
    <meta property="og:title" content="Apache Kafka VS RabbitMQ" />
<meta property="og:description" content="Apa itu Kafka dan RabbitMQ Kafka Kafka adalah sebuah message broker yang memungkinkan sistem dapat memproses, menyimpan, dan mengelola kembali data yang sebelumnya disimpan apabila terjadi kehilangan.
RabbitMQ RabbitMQ adalah sebuah message broker yang mendukung bererapa protokol diantaranya MQTT, AMQP, dan STOMP, dan dapat menangani berbagai macam studi kasus seperti online payment proccess, handler backgorund jobs. Bahkan dapat bertindak sebagai perantara antar microsevices.
Manfaat kegunaan Kafka.  Reliability, Terdistribusi, patitioned, replicated and fault tolerance." />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://jiharal.github.io/posts/apache_kafka/" />
<meta property="article:published_time" content="2020-01-13T11:46:43+07:00" />
<meta property="article:modified_time" content="2020-01-13T11:46:43+07:00" />
<meta itemprop="name" content="Apache Kafka VS RabbitMQ">
<meta itemprop="description" content="Apa itu Kafka dan RabbitMQ Kafka Kafka adalah sebuah message broker yang memungkinkan sistem dapat memproses, menyimpan, dan mengelola kembali data yang sebelumnya disimpan apabila terjadi kehilangan.
RabbitMQ RabbitMQ adalah sebuah message broker yang mendukung bererapa protokol diantaranya MQTT, AMQP, dan STOMP, dan dapat menangani berbagai macam studi kasus seperti online payment proccess, handler backgorund jobs. Bahkan dapat bertindak sebagai perantara antar microsevices.
Manfaat kegunaan Kafka.  Reliability, Terdistribusi, patitioned, replicated and fault tolerance.">
<meta itemprop="datePublished" content="2020-01-13T11:46:43&#43;07:00" />
<meta itemprop="dateModified" content="2020-01-13T11:46:43&#43;07:00" />
<meta itemprop="wordCount" content="1039">



<meta itemprop="keywords" content="teori,kafka,message_system,brokers,consumers,follower,rabitmq,mqtt,amqp," /><meta name="twitter:card" content="summary"/>
<meta name="twitter:title" content="Apache Kafka VS RabbitMQ"/>
<meta name="twitter:description" content="Apa itu Kafka dan RabbitMQ Kafka Kafka adalah sebuah message broker yang memungkinkan sistem dapat memproses, menyimpan, dan mengelola kembali data yang sebelumnya disimpan apabila terjadi kehilangan.
RabbitMQ RabbitMQ adalah sebuah message broker yang mendukung bererapa protokol diantaranya MQTT, AMQP, dan STOMP, dan dapat menangani berbagai macam studi kasus seperti online payment proccess, handler backgorund jobs. Bahkan dapat bertindak sebagai perantara antar microsevices.
Manfaat kegunaan Kafka.  Reliability, Terdistribusi, patitioned, replicated and fault tolerance."/>

    <script data-ad-client="ca-pub-6469211032618440" async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js"></script>
  </head>

  <body class="ma0 avenir bg-near-white">

    
   
  

  <header>
    <div class="bg-black">
      <nav class="pv3 ph3 ph4-ns" role="navigation">
  <div class="flex-l justify-between items-center center">
    <a href="https://jiharal.github.io/" class="f3 fw2 hover-white no-underline white-90 dib">
      Jihar Al Gifari
    </a>
    <div class="flex-l items-center">
      

      
        <ul class="pl0 mr3">
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/about" title="About Me page">
              About Me
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/posts" title="Blogs page">
              Blogs
            </a>
          </li>
          
          <li class="list f5 f4-ns fw4 dib pr3">
            <a class="hover-white no-underline white-90" href="/categories" title="Categories page">
              Categories
            </a>
          </li>
          
        </ul>
      
      












    </div>
  </div>
</nav>

    </div>
  </header>



    <main class="pb7" role="main">
      
  
  <article class="flex-l flex-wrap justify-between mw8 center ph3">

    <header class="mt4 w-100">
      <p class="f6 b helvetica tracked">
          
        POSTS
      </p>
      <h1 class="f1 athelas mb1">Apache Kafka VS RabbitMQ</h1>
      
      
      <time class="f6 mv4 dib tracked" datetime="2020-01-13T11:46:43&#43;07:00">January 13, 2020</time>
      
      
    </header>

    <section class="nested-copy-line-height lh-copy serif f4 nested-links nested-img mid-gray pr4-l w-two-thirds-l"><h2 id="apa-itu-kafka-dan-rabbitmq">Apa itu Kafka dan RabbitMQ</h2>
<h3 id="kafka">Kafka</h3>
<p>Kafka adalah sebuah message broker yang memungkinkan sistem dapat memproses, menyimpan, dan mengelola kembali data yang sebelumnya disimpan apabila terjadi kehilangan.</p>
<h3 id="rabbitmq">RabbitMQ</h3>
<p>RabbitMQ adalah sebuah message broker yang mendukung bererapa protokol diantaranya MQTT, AMQP, dan STOMP, dan dapat menangani berbagai macam studi kasus seperti online payment proccess, handler backgorund jobs. Bahkan dapat bertindak sebagai perantara antar microsevices.</p>
<h3 id="manfaat-kegunaan-kafka">Manfaat kegunaan Kafka.</h3>
<ul>
<li>Reliability, Terdistribusi, patitioned, replicated and fault tolerance.</li>
<li>Scalability, Dapat di scale dengan mudah tanpa membutuhkan waktu yang lama.</li>
<li>Durability, Kafka menggunakan Distributed commit artinya data-data di simpan di dalam disk.</li>
<li>Performance, Kafka memiliki throughput yang tinggi untuk publishing and subscribing messages. dengan itu akan memiliki permorma dengan kinerja yang stabil.</li>
<li>High volume publish-subscribe messages and streams platform—durable, fast and scalable.</li>
<li>Durable message store—like a log, run in a server cluster, which keeps streams of records in topics (categories).</li>
<li>Messages—made up of a value, a key and a timestamp.</li>
<li>Dumb broker / smart consumer model—does not try to track which messages are read by consumers and only keeps unread messages. Kafka keeps all messages for a set period of time.</li>
<li>membutuhakan Apache Zookeeper untuk menanagani beberapa kasus.</li>
</ul>
<h3 id="manfaat-kegunaan-rabbitmq">Manfaat kegunaan RabbitMQ.</h3>
<ul>
<li>General purpose message broker—uses variations of request/reply, point to point, and pub-sub communication patterns.</li>
<li>Smart broker / dumb consumer model—consistent delivery of messages to consumers, at around the same speed as the broker monitors the consumer state.</li>
<li>Mature platform—well supported, available for Java, client libraries, .NET, Ruby, node.js. Offers dozens of plugins.</li>
<li>Communication—can be synchronous or asynchronous.</li>
<li>Deployment scenarios—provides distributed deployment scenarios.</li>
<li>Multi-node cluster to cluster federation—does not rely on external services, however, specific cluster formation plugins can use DNS, APIs, Consul, etc.</li>
</ul>
<h3 id="studi-kasus-untuk-kafka">Studi kasus untuk kafka</h3>
<ul>
<li>Messaging, Kafka pemforma lebih baik, built-in partitioning, replication, and fault-tolerance yang menjadikan solusi terbaik untuk memproses data dengan skala yang sangat besar.</li>
<li>Website Activity Tracking, These feeds are available for subscription for a range of use cases including real-time processing, real-time monitoring, and loading into Hadoop or offline data warehousing systems for offline processing and reporting.</li>
<li>Metrics, Kafka is often used for operational monitoring data. This involves aggregating statistics from distributed applications to produce centralized feeds of operational data.</li>
<li>Log Aggregation, Log aggregation typically collects physical log files off servers and puts them in a central place (a file server or HDFS perhaps) for processing. Kafka abstracts away the details of files and gives a cleaner abstraction of log or event data as a stream of messages. This allows for lower-latency processing and easier support for multiple data sources and distributed data consumption. In comparison to log-centric systems like Scribe or Flume, Kafka offers equally good performance, stronger durability guarantees due to replication, and much lower end-to-end latency.</li>
<li>Stream Processing, Many users of Kafka process data in processing pipelines consisting of multiple stages, where raw input data is consumed from Kafka topics and then aggregated, enriched, or otherwise transformed into new topics for further consumption or follow-up processing.</li>
<li>Event Sourcing, Event sourcing is a style of application design where state changes are logged as a time-ordered sequence of records. Kafka's support for very large stored log data makes it an excellent backend for an application built in this style.</li>
<li>Commit Log, Kafka can serve as a kind of external commit-log for a distributed system. The log helps replicate data between nodes and acts as a re-syncing mechanism for failed nodes to restore their data.</li>
</ul>
<h3 id="studi-kasus-untuk-rabbitmq">Studi kasus untuk RabbitMQ.</h3>
<p>RabbitMQ bisa digunakan ketika web servers membtuhkan respond dan requests yang cepat. RabbitMQ juga digunakan untuk menyampaikan sebuah message ke berbagai penerima untuk komsumsi atau dibagikan beban antara workers dibawah beban (20K+ messages/second). RabbitMQ dapat digunakan untuk</p>
<ul>
<li>Aplikasi yang mendukung protokol seperti STOMP, MQTT, AMQP, 0-9-1.</li>
<li>Kompleks routing.</li>
<li>Aplikasi yang membutuhkan berbagai macam kemampuan untuk publish/subscribe, point-to-point request/reply messaging capabilities.</li>
</ul>
<h2 id="rabbitmq-vs-kafka-mana-yang-lebih-cepat-">RabbitMQ vs Kafka mana yang lebih cepat ?</h2>
<h3 id="kafka-1">Kafka</h3>
<p>Menawarkan kinerja kecepatan lebih tinggi dibandingkan dengan RabbitMQ. Menggunakan sequential disk I/O untuk meningkatkan kinerja. Menjadikan pilihan yang tepat untuk sistem antrian, dan dapat menghandle jutaan pesan dalam hitungan detik, sangat di rekomendasikan untuk kasus penggunaan data yang besar.</p>
<h3 id="rabbitmq-1">RabbitMQ</h3>
<p>RabbitMQ juga menawarkan kecepatan yang sama dengan Kafka namum membutuhkan resource yang besar untuk menanganinya. RabbitMQ juga dapat menangani use case yang sama dengan kafka namun membutuhakan kombinasi dengan tool pendukung seperti apache cassandra.</p>
<h3 id="implementasi-klien-kafka-di-go">Implementasi Klien Kafka di Go</h3>
<h4 id="message-broker">Message broker.</h4>
<ul>
<li>Producer</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go"><span style="color:#a6e22e">p</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">kafka</span>.<span style="color:#a6e22e">NewProducer</span>(<span style="color:#f92672">&amp;</span><span style="color:#a6e22e">kafka</span>.<span style="color:#a6e22e">ConfigMap</span>{<span style="color:#e6db74">&#34;bootstrap.servers&#34;</span>: <span style="color:#e6db74">&#34;localhost:9092&#34;</span>})
<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
	panic(<span style="color:#a6e22e">err</span>)
}

<span style="color:#a6e22e">topic</span> <span style="color:#f92672">:=</span> <span style="color:#e6db74">&#34;jobs-topic1&#34;</span>
<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">_</span>, <span style="color:#a6e22e">word</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">range</span> []<span style="color:#66d9ef">string</span>{string(<span style="color:#a6e22e">jobString</span>)} {
	<span style="color:#a6e22e">kafkaPool</span>.<span style="color:#a6e22e">Produce</span>(<span style="color:#f92672">&amp;</span><span style="color:#a6e22e">kafka</span>.<span style="color:#a6e22e">Message</span>{
		<span style="color:#a6e22e">TopicPartition</span>: <span style="color:#a6e22e">kafka</span>.<span style="color:#a6e22e">TopicPartition</span>{<span style="color:#a6e22e">Topic</span>: <span style="color:#f92672">&amp;</span><span style="color:#a6e22e">topic</span>, <span style="color:#a6e22e">Partition</span>: <span style="color:#a6e22e">kafka</span>.<span style="color:#a6e22e">PartitionAny</span>},
		<span style="color:#a6e22e">Value</span>:          []byte(<span style="color:#a6e22e">word</span>),
	}, <span style="color:#66d9ef">nil</span>)
}

</code></pre></div><ul>
<li>Consumers</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go">  <span style="color:#a6e22e">c</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">kafka</span>.<span style="color:#a6e22e">NewConsumer</span>(<span style="color:#f92672">&amp;</span><span style="color:#a6e22e">kafka</span>.<span style="color:#a6e22e">ConfigMap</span>{
		<span style="color:#e6db74">&#34;bootstrap.servers&#34;</span>: <span style="color:#e6db74">&#34;localhost:9092&#34;</span>,
		<span style="color:#e6db74">&#34;group.id&#34;</span>:          <span style="color:#e6db74">&#34;group-id-1&#34;</span>,
		<span style="color:#e6db74">&#34;auto.offset.reset&#34;</span>: <span style="color:#e6db74">&#34;earliest&#34;</span>,
	})

	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
		panic(<span style="color:#a6e22e">err</span>)
	}

	<span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">SubscribeTopics</span>([]<span style="color:#66d9ef">string</span>{<span style="color:#e6db74">&#34;jobs-topic1&#34;</span>}, <span style="color:#66d9ef">nil</span>)

	<span style="color:#66d9ef">for</span> {
		<span style="color:#a6e22e">msg</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">ReadMessage</span>(<span style="color:#f92672">-</span><span style="color:#ae81ff">1</span>)
		<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">==</span> <span style="color:#66d9ef">nil</span> {
			<span style="color:#a6e22e">job</span> <span style="color:#f92672">:=</span> string(<span style="color:#a6e22e">msg</span>.<span style="color:#a6e22e">Value</span>)
			<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">job</span>)
		} <span style="color:#66d9ef">else</span> {
			<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;Consumer error: %v (%v)\n&#34;</span>, <span style="color:#a6e22e">err</span>, <span style="color:#a6e22e">msg</span>)
			<span style="color:#66d9ef">break</span>
		}
	}

	<span style="color:#a6e22e">c</span>.<span style="color:#a6e22e">Close</span>()
</code></pre></div><h3 id="implementasi-klien-rabbitmq-di-go">Implementasi Klien RabbitMQ di Go</h3>
<ul>
<li>Producer</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go">	<span style="color:#a6e22e">rabbitMQPool</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">amqp</span>.<span style="color:#a6e22e">Dial</span>(<span style="color:#e6db74">&#34;amqp://guest:guest@localhost:5672/&#34;</span>)
	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
		<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;Error conn to RabbitMQ&#34;</span>, <span style="color:#a6e22e">err</span>)
		panic(<span style="color:#a6e22e">err</span>)
	}
	<span style="color:#66d9ef">defer</span> <span style="color:#a6e22e">rabbitMQPool</span>.close()
	<span style="color:#a6e22e">ch</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">rabbitMQPool</span>.<span style="color:#a6e22e">Channel</span>()
	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
		<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">NewErrorWrap</span>(<span style="color:#a6e22e">err</span>, <span style="color:#a6e22e">m</span>.<span style="color:#a6e22e">name</span>, <span style="color:#e6db74">&#34;error/create-channel-mq&#34;</span>,
			<span style="color:#a6e22e">MessageGeneralError</span>, <span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">StatusInternalServerError</span>)
	}
	<span style="color:#66d9ef">defer</span> <span style="color:#a6e22e">ch</span>.<span style="color:#a6e22e">Close</span>()

	<span style="color:#a6e22e">queue</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">ch</span>.<span style="color:#a6e22e">QueueDeclare</span>(<span style="color:#e6db74">&#34;task_queue&#34;</span>, <span style="color:#66d9ef">true</span>, <span style="color:#66d9ef">false</span>, <span style="color:#66d9ef">false</span>, <span style="color:#66d9ef">false</span>, <span style="color:#66d9ef">nil</span>)
	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
		<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">NewErrorWrap</span>(<span style="color:#a6e22e">err</span>, <span style="color:#a6e22e">m</span>.<span style="color:#a6e22e">name</span>, <span style="color:#e6db74">&#34;error/declare-queue&#34;</span>,
			<span style="color:#a6e22e">MessageGeneralError</span>, <span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">StatusInternalServerError</span>)
	}

	<span style="color:#a6e22e">data</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">json</span>.<span style="color:#a6e22e">Marshal</span>(<span style="color:#a6e22e">user</span>.<span style="color:#a6e22e">Response</span>())
	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
		<span style="color:#66d9ef">return</span> <span style="color:#a6e22e">NewErrorWrap</span>(<span style="color:#a6e22e">err</span>, <span style="color:#a6e22e">m</span>.<span style="color:#a6e22e">name</span>, <span style="color:#e6db74">&#34;error/marshal-data&#34;</span>,
			<span style="color:#a6e22e">MessageGeneralError</span>, <span style="color:#a6e22e">http</span>.<span style="color:#a6e22e">StatusInternalServerError</span>)
	}

	<span style="color:#a6e22e">err</span> = <span style="color:#a6e22e">ch</span>.<span style="color:#a6e22e">Publish</span>(<span style="color:#e6db74">&#34;&#34;</span>, <span style="color:#a6e22e">queue</span>.<span style="color:#a6e22e">Name</span>, <span style="color:#66d9ef">false</span>, <span style="color:#66d9ef">false</span>, <span style="color:#a6e22e">amqp</span>.<span style="color:#a6e22e">Publishing</span>{
		<span style="color:#a6e22e">DeliveryMode</span>: <span style="color:#a6e22e">amqp</span>.<span style="color:#a6e22e">Persistent</span>,
		<span style="color:#a6e22e">ContentType</span>:  <span style="color:#e6db74">&#34;text/plain&#34;</span>,
		<span style="color:#a6e22e">Body</span>:         []byte(string(<span style="color:#a6e22e">data</span>)),
	})
</code></pre></div><ul>
<li>Consumers</li>
</ul>
<div class="highlight"><pre style="color:#f8f8f2;background-color:#272822;-moz-tab-size:4;-o-tab-size:4;tab-size:4"><code class="language-go" data-lang="go">	<span style="color:#a6e22e">rabbitMQPool</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">amqp</span>.<span style="color:#a6e22e">Dial</span>(<span style="color:#e6db74">&#34;amqp://guest:guest@localhost:5672/&#34;</span>)
	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
		<span style="color:#a6e22e">fmt</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#e6db74">&#34;Error conn to RabbitMQ&#34;</span>, <span style="color:#a6e22e">err</span>)
		panic(<span style="color:#a6e22e">err</span>)
	}
	<span style="color:#66d9ef">defer</span> <span style="color:#a6e22e">rabbitMQPool</span>.close()
	<span style="color:#a6e22e">ch</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">rabbitMQPool</span>.<span style="color:#a6e22e">Channel</span>()
	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
		<span style="color:#a6e22e">logger</span>.<span style="color:#a6e22e">Out</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">err</span>)
	}
	<span style="color:#66d9ef">defer</span> <span style="color:#a6e22e">ch</span>.<span style="color:#a6e22e">Close</span>()

	<span style="color:#a6e22e">q</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">ch</span>.<span style="color:#a6e22e">QueueDeclare</span>(
		<span style="color:#e6db74">&#34;task_queue&#34;</span>, <span style="color:#75715e">// name
</span><span style="color:#75715e"></span>		<span style="color:#66d9ef">true</span>,         <span style="color:#75715e">// durable
</span><span style="color:#75715e"></span>		<span style="color:#66d9ef">false</span>,        <span style="color:#75715e">// delete when unused
</span><span style="color:#75715e"></span>		<span style="color:#66d9ef">false</span>,        <span style="color:#75715e">// exclusive
</span><span style="color:#75715e"></span>		<span style="color:#66d9ef">false</span>,        <span style="color:#75715e">// no-wait
</span><span style="color:#75715e"></span>		<span style="color:#66d9ef">nil</span>,          <span style="color:#75715e">// arguments
</span><span style="color:#75715e"></span>	)
	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
		<span style="color:#a6e22e">logger</span>.<span style="color:#a6e22e">Out</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">err</span>)
	}

	<span style="color:#a6e22e">msgs</span>, <span style="color:#a6e22e">err</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">ch</span>.<span style="color:#a6e22e">Consume</span>(
		<span style="color:#a6e22e">q</span>.<span style="color:#a6e22e">Name</span>, <span style="color:#75715e">// queue
</span><span style="color:#75715e"></span>		<span style="color:#e6db74">&#34;&#34;</span>,     <span style="color:#75715e">// consumer
</span><span style="color:#75715e"></span>		<span style="color:#66d9ef">false</span>,  <span style="color:#75715e">// auto-ack
</span><span style="color:#75715e"></span>		<span style="color:#66d9ef">false</span>,  <span style="color:#75715e">// exclusive
</span><span style="color:#75715e"></span>		<span style="color:#66d9ef">false</span>,  <span style="color:#75715e">// no-local
</span><span style="color:#75715e"></span>		<span style="color:#66d9ef">false</span>,  <span style="color:#75715e">// no-wait
</span><span style="color:#75715e"></span>		<span style="color:#66d9ef">nil</span>,    <span style="color:#75715e">// args
</span><span style="color:#75715e"></span>	)
	<span style="color:#66d9ef">if</span> <span style="color:#a6e22e">err</span> <span style="color:#f92672">!=</span> <span style="color:#66d9ef">nil</span> {
		<span style="color:#a6e22e">logger</span>.<span style="color:#a6e22e">Out</span>.<span style="color:#a6e22e">Println</span>(<span style="color:#a6e22e">err</span>)
	}

	<span style="color:#a6e22e">forever</span> <span style="color:#f92672">:=</span> make(<span style="color:#66d9ef">chan</span> <span style="color:#66d9ef">bool</span>)

	<span style="color:#66d9ef">go</span> <span style="color:#66d9ef">func</span>() {
		<span style="color:#66d9ef">for</span> <span style="color:#a6e22e">d</span> <span style="color:#f92672">:=</span> <span style="color:#66d9ef">range</span> <span style="color:#a6e22e">msgs</span> {
			<span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;Received a message: %s&#34;</span>, <span style="color:#a6e22e">d</span>.<span style="color:#a6e22e">Body</span>)
			<span style="color:#a6e22e">dot_count</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">bytes</span>.<span style="color:#a6e22e">Count</span>(<span style="color:#a6e22e">d</span>.<span style="color:#a6e22e">Body</span>, []byte(<span style="color:#e6db74">&#34;.&#34;</span>))
			<span style="color:#a6e22e">t</span> <span style="color:#f92672">:=</span> <span style="color:#a6e22e">time</span>.<span style="color:#a6e22e">Duration</span>(<span style="color:#a6e22e">dot_count</span>)
			<span style="color:#a6e22e">time</span>.<span style="color:#a6e22e">Sleep</span>(<span style="color:#a6e22e">t</span> <span style="color:#f92672">*</span> <span style="color:#a6e22e">time</span>.<span style="color:#a6e22e">Second</span>)
			<span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34;Done&#34;</span>)
			<span style="color:#a6e22e">d</span>.<span style="color:#a6e22e">Ack</span>(<span style="color:#66d9ef">false</span>)
		}
	}()

	<span style="color:#a6e22e">log</span>.<span style="color:#a6e22e">Printf</span>(<span style="color:#e6db74">&#34; [*] Waiting for messages. To exit press CTRL+C&#34;</span>)
	<span style="color:#f92672">&lt;-</span><span style="color:#a6e22e">forever</span>
</code></pre></div><h4 id="reference">Reference</h4>
<ul>
<li><a href="https://www.upsolver.com/blog/kafka-versus-rabbitmq-architecture-performance-use-case">upsolver</a></li>
<li><a href="https://www.tutorialspoint.com/apache_kafka">tutorialspoint</a></li>
<li><a href="https://kafka.apache.org/uses">kafka.apache.org</a></li>
</ul>
<ul class="pa0">
  
   <li class="list">
     <a href="/tags/teori" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">teori</a>
   </li>
  
   <li class="list">
     <a href="/tags/kafka" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">kafka</a>
   </li>
  
   <li class="list">
     <a href="/tags/message_system" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">message_system</a>
   </li>
  
   <li class="list">
     <a href="/tags/brokers" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">brokers</a>
   </li>
  
   <li class="list">
     <a href="/tags/consumers" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">consumers</a>
   </li>
  
   <li class="list">
     <a href="/tags/follower" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">follower</a>
   </li>
  
   <li class="list">
     <a href="/tags/rabitmq" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">rabitmq</a>
   </li>
  
   <li class="list">
     <a href="/tags/mqtt" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">mqtt</a>
   </li>
  
   <li class="list">
     <a href="/tags/amqp" class="link f5 grow no-underline br-pill ba ph3 pv2 mb2 dib black sans-serif">amqp</a>
   </li>
  
</ul>
<div class="mt6">
      
      
      </div>
    </section>

    <aside class="w-30-l mt6-l">




</aside>

  </article>

    </main>
    <footer class="bg-black bottom-0 w-100 pa3" role="contentinfo">
  <div class="flex justify-between">
  <a class="f4 fw4 hover-white no-underline white-70 dn dib-ns pv2 ph3" href="https://jiharal.github.io/" >
    &copy; 2020 Jihar Al Gifari
  </a>
    <div>











</div>
  </div>
</footer>

    

  <script src="/dist/js/app.3fc0f988d21662902933.js"></script>


  </body>
</html>
